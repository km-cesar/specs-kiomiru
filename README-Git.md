# Git & SourceTree 利用ガイド

## 1. はじめに

このドキュメントは、本プロジェクトにおけるGitおよびSourceTreeの利用方法と、Git-flowに基づいた運用ルールをまとめたものです。
プロジェクトに参加するメンバーは、開発を始める前に必ず本ドキュメントを一読してください。

## 2. 目次

- 3. 準備
  - 3.1. Gitのインストール
  - 3.2. SourceTreeのインストールと初期設定
- 4. 基本的な使い方 (SourceTree)
  - 4.1. リポジトリのクローン
  - 4.2. 変更内容のコミットとプッシュ
  - 4.3. リモートリポジトリの変更を取得
- 5. 運用ルール (Git-flow)
  - 5.1. Git-flowとは
  - 5.2. ブランチの種類と役割
  - 5.3. 基本的な開発フロー
  - 5.4. SourceTreeでのGit-flow操作

## 3. 準備

### 3.1. Gitのインストール

SourceTreeは内部でGitを使用するため、まずGit本体をPCにインストールする必要があります。

1.  Git公式サイトにアクセスします。
2.  お使いのOS（Windows, macOS）に合ったインストーラーをダウンロードし、画面の指示に従ってインストールしてください。
    *   特に設定を変更する必要はなく、基本的にデフォルトのままで問題ありません。

### 3.2. SourceTreeのインストールと初期設定

SourceTreeは、Gitの操作を直感的に行えるようにするGUIツールです。

1.  SourceTree公式サイトにアクセスし、インストーラーをダウンロードしてインストールします。
2.  初回起動時にAtlassianアカウントでの登録が求められます。画面の指示に従ってアカウントを作成またはログインしてください。
3.  インストール後、リモートリポジトリ（GitHub, Bitbucketなど）のアカウントを連携設定しておくと、リポジトリへのアクセスがスムーズになります。
    *   `ツール > オプション > 認証` (Windows)
    *   `SourceTree > 環境設定 > アカウント` (macOS)

## 4. 基本的な使い方 (SourceTree)

### 4.1. リポジトリのクローン

リモートリポジトリを自分のPCにコピー（クローン）して、開発を始める準備をします。

1.  SourceTreeを起動し、`+`ボタン > `Clone` を選択します。
2.  リモートリポジトリのURLを「ソースパス/URL」に貼り付けます。
3.  「保存先のパス」に、ローカルPC上でリポジトリを管理したいフォルダを指定します。
4.  `クローン`ボタンをクリックします。

### 4.2. 変更内容のコミットとプッシュ

ソースコードの変更を記録し、リモートリポジトリに反映させる手順です。

1.  **変更内容の確認とステージング**
    *   SourceTreeの`ファイルステータス`タブを開くと、変更されたファイルが一覧表示されます。
    *   コミットに含めたいファイルのチェックボックスを選択し、「インデックスにステージしたファイル」エリアに移動させます（ステージング）。
2.  **コミット**
    *   画面下のコミットメッセージ入力欄に、変更内容を分かりやすく記述します。（例：「〇〇機能の不具合修正」）
    *   `コミット`ボタンをクリックすると、ローカルリポジトリに変更が記録されます。
3.  **プッシュ**
    *   画面上部の`プッシュ`ボタンをクリックします。
    *   プッシュ先のブランチを確認し、再度`プッシュ`ボタンをクリックすると、ローカルのコミットがリモートリポジトリに送信されます。

### 4.3. リモートリポジトリの変更を取得

他のメンバーがプッシュした最新の変更内容を、自分のローカルリポジトリに取り込みます。

1.  画面上部の`プル`ボタンをクリックします。
2.  プル元のリモートブランチを確認し、`OK`ボタンをクリックします。
3.  これにより、リモートの最新の状態がローカルに反映されます。
    *   作業を始める前や、プッシュする前には、必ずプルを実行して最新の状態に更新する習慣をつけましょう。

## 5. 運用ルール (Git-flow)

本プロジェクトでは、ブランチ運用モデルとして**Git-flow**を採用します。

### 5.1. Git-flowとは

`main`と`develop`という2つの主要ブランチを軸に、機能追加やバグ修正などの目的に応じて一時的なブランチを作成して開発を進める手法です。これにより、安定版のコードと開発中のコードを明確に分離し、複数人での並行開発をスムーズに行うことができます。

### 5.2. ブランチの種類と役割

| ブランチ名 | 役割 |
| :--- | :--- |
| `main` | **本番環境にリリースされる、最も安定したコード**を管理します。このブランチに直接コミットすることは禁止です。 |
| `develop` | **次のリリースに向けた開発のベースとなるブランチ**です。開発が完了した機能は、このブランチにマージされます。 |
| `feature/*` | 新機能の開発やタスクを行うためのブランチです。（例: `feature/login-function`）`develop`から作成し、完了後は`develop`にマージします。 |
| `release/*` | リリース準備のためのブランチです。（例: `release/v1.1.0`）`develop`から作成し、リリース前のバグ修正などを行います。完了後は`main`と`develop`にマージされます。 |
| `hotfix/*` | 本番環境で発生した緊急のバグを修正するためのブランチです。（例: `hotfix/critical-bug`）`main`から作成し、修正完了後は`main`と`develop`にマージされます。 |

### 5.3. 基本的な開発フロー（新機能開発の場合）

1.  `develop`ブランチを最新の状態に更新します（プル）。
2.  `develop`ブランチから、作業内容が分かる名前で`feature/*`ブランチを作成します。
    *   例: `feature/add-user-profile-page`
3.  作成した`feature/*`ブランチで開発作業を行い、適宜コミットします。
4.  作業が完了したら、`feature/*`ブランチをリモートにプッシュします。
5.  GitHubやBitbucket上でプルリクエスト（マージリクエスト）を作成し、`feature/*`ブランチから`develop`ブランチへのマージを依頼します。
6.  コードレビューを経て、問題がなければ`develop`ブランチにマージされます。

### 5.4. SourceTreeでのGit-flow操作

SourceTreeにはGit-flowを支援する機能が搭載されています。

1.  **初期化**
    *   リポジトリを開き、画面上部の`Git-flow`ボタンをクリックします。
    *   ダイアログが表示されたら、そのまま`OK`をクリックして初期化します。
2.  **新しいFeatureの開始**
    *   再度`Git-flow`ボタンをクリックし、「新しいFeatureを開始」を選択します。
    *   Feature名（`add-user-profile-page`など）を入力すると、`feature/add-user-profile-page`ブランチが自動で作成され、チェックアウトされます。
3.  **Featureの完了**
    *   作業が完了したら、`Git-flow`ボタンから「Featureを完了」を選択します。
    *   これにより、現在の`feature`ブランチが`develop`ブランチにマージされ、`feature`ブランチは削除されます。
